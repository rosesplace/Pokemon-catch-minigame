# Twitch PokÃ©mon Bot  

A Twitch chat game where wild PokÃ©mon appear in chat, and viewers can catch them using different PokÃ© Balls. The overlay shows animations for spawns, throws, and catches in OBS (or any streaming software that supports browser sources).  

---

## ğŸ“‚ Folder Structure  

```
ğŸ“ assets/         â†’ Sprites, balls, sounds  
ğŸ“ node_modules/   â†’ Installed dependencies (auto-created by npm)  
ğŸ“ bot.js          â†’ Main bot script  
ğŸ“ config.json     â†’ Twitch credentials + settings  
ğŸ“ overlay.html    â†’ Overlay for OBS/browser source  
ğŸ“ package.json    â†’ Node.js project file (dependencies & scripts)  
ğŸ“ package-lock.json â†’ Auto-generated by npm  
ğŸ“ pokedex.json    â†’ Saved PokÃ©dex (auto-generated, do not delete if you want to keep progress)  
ğŸ“ pokemon.json    â†’ Full PokÃ©mon dataset (all PokÃ©mon with ID + sprite)  
â–¶ï¸ start.bat       â†’ Launches the bot  
```

---

## âš™ï¸ Setup  

1. **Install Node.js**  
   Download and install [Node.js](https://nodejs.org/) (LTS version recommended).  

2. **Configure your bot**  
   Open `config.json` and fill in your details:  
   ```json
   {
     "botUsername": "YourBotName",
     "oauthToken": "oauth:xxxxxxxxxxxxxxxxxxxxxx",
     "channel": "yourchannelname",
     "prefix": "!"
   }
   ```  
   - `botUsername`: The Twitch account your bot will log in as.  
   - `oauthToken`: Generate one at https://twitchapps.com/tmi/  
   - `channel`: Your Twitch channel name (lowercase).  
   - `prefix`: Command prefix (default is `!`).  

---

## â–¶ï¸ Starting the Bot  

- Simply double-click **`start.bat`**  
- Or run manually from terminal:  
  ```sh
  node bot.js
  ```

---

## ğŸ® Chat Commands  

### For Moderators / Broadcaster  
- `!pokemon` â†’ Spawn a random PokÃ©mon  
- `!pokemon <id|name>` â†’ Spawn a specific PokÃ©mon by ID or name  
- `!pokestop` â†’ Force the current PokÃ©mon to flee  

### For Viewers  
- `!catch` â†’ Throw a PokÃ© Ball (everyone can use)  
- `!catch greatball` â†’ Requires **Tier 1 sub**  
- `!catch ultraball` â†’ Requires **Tier 2 sub**  
- `!catch masterball` â†’ Requires **Tier 3 sub**  
- `!pokedex` â†’ Shows your caught PokÃ©mon  

---

## ğŸ¥ Adding Overlay to OBS  

1. Open OBS (or any streaming software).  
2. Add a **Browser Source**.  
3. Set the URL to your overlay file:  
   ```
   file://C:/(your path)/Pokemon/overlay.html
   ```
   *(Replace with your actual bot folder path.)*  
4. Set width/height (e.g. 1920x1080) to match your stream canvas.  
5. Place the overlay where you want PokÃ©mon to appear.  

---

## ğŸ’¾ Saving Progress  

- Catches are stored in **`pokedex.json`**.  
- Donâ€™t delete this file unless you want to reset everyoneâ€™s PokÃ©dex.  

---

## ğŸ› ï¸ Troubleshooting  

### 1. `Error: Login authentication failed`  
- Your `oauthToken` is wrong or expired.  
- Generate a new one at: https://twitchapps.com/tmi/  
- Update it in `config.json`.  

### 2. `Error loading pokedex.json: Unexpected end of JSON input`  
- This happens if `pokedex.json` is empty or corrupted.  
- Fix: Delete `pokedex.json` (a new one will be created automatically).  

### 3. Overlay not showing PokÃ©mon in OBS  
- Make sure **`overlay.html`** path is correct in OBS (use `file://...`).  
- Ensure the **WebSocket server is running** (`âœ… WebSocket overlay server running on ws://localhost:8080`).  
- Some browsers block local audio autoplay â†’ test in OBS directly.  

### 4. PokÃ©mon not spawning  
- Only **moderators or the broadcaster** can use `!pokemon`.  
- Check if the bot is connected in your Twitch chat (`[bot] has joined`).  

### 5. Audio not playing in overlay  
- Some audio files may be blocked by browser security.  
- In OBS, audio should play fine, but check your **audio routing/mixer**.  

---

âœ¨ Thatâ€™s it! Youâ€™re ready to let your viewers catch PokÃ©mon on stream.  
